//Jose Manuel Menjivar Fuentes - 0909-20-12301
//Serie No.3 - Examen Final

#include <iostream>
#include <string.h>
#include <stdlib.h>

using namespace std;


struct Cola
{
  int frente;
  int final;
  int capacidad;
  char *arreglo;
  
};

struct Cola* crearCola(int capacidad)
{
  
  struct Cola* cola = (struct Cola*)malloc(sizeof(struct Cola)); 
  cola->capacidad = capacidad; 
  cola->frente = -1; 
  cola->final=0;
  cola->arreglo = (char*)malloc(cola->capacidad*sizeof(char)); 
  return cola;
}


int vacia(Cola q)
{
  
  if (q.final==0) 
    return (1);
  
 return(0);
}


int llena(Cola *q)
{
  if (q->final==q->capacidad) return (1);
  
 return(0);
}


void insertar(Cola *q, char *dato)
{

  q->arreglo[q->final]=*dato;
   q->final++;
   
}


string eliminar(Cola *cola)
{
  
  int i;
  string x;
  
  x=cola->arreglo[0];
  
  for(i=0;i<cola->final-1;i++)
    cola->arreglo[i]=cola->arreglo[i+1];
    
  cola->final--;
  
  return(x);
  
}


void imprimir(struct Cola* q)
{
  
  struct Cola p=*q;
    int i;
    
  if(!vacia(p))
  {
      
      cout<<"\n\tListado de todos los elementos de la cola.\n";
      for(i=0;i<q->final;i++)
        cout<<q->arreglo<<endl;
  }
  else
    printf("\nLa cola se encuentra vacia.\n");
    
}


int main(int argc, char** argv) {
  
  int op;
  int tam;
  char *nombre;
  struct Cola* cola;
	system("color f8");
  
  do
  {
    system("cls");
    cout<<"Serie No.3 - Examen Final -"<<endl <<endl;
    cout<<"\n\n\t1.- Definir el tamano del arreglo"<<endl;
    cout<<"\t2.- Funcion QUEUE"<<endl;
    cout<<"\t3.- Funcion ENQUEUE"<<endl;
    cout<<"\t4.- Mostrar COLA"<<endl;
    cout<<"\t5.- Finalizar";
    cout<<"\n\n\tSeleccione una Opcion: ";
    cin>>op;
    
    switch(op)
	{
      case 1: cout<<"\n\tEstablezca el tamano del arreglo: ";
          cin>>tam;
          cola=crearCola(tam); 
        break;
        
      case 2:  cout<<"\n\tIngrese un elemento a la cola: ";
      nombre = (char*)malloc(sizeof(char)); 
          cin>>nombre;
          insertar(cola, nombre);
          break;
      
      case 3:  cout<<"\n\tRemoviendo un elemento de la cola";
          eliminar(cola);
          cout<<"\n\tSe ha eliminado un elemento";
          break;
      
      case 4:  cout<<"\n\tMuestreo de los elementos de la cola\n";
          imprimir(cola);
          system("pause");
          break;
      
      case 5:  cout<<"\n\tFinalizando Programa:";
          break;
      
      default:  cout<<"\n\tOpcion No Disponible";
          break;

    }
    
  }while(op!=5);
  
  return 0;
}
